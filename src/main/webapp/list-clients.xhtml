<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
	
<f:metadata>
	<f:event type="preRenderView"
		listener="#{clientController.loadClients()}" />
</f:metadata>



<h:head>

	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<title>Opérations Client</title>


</h:head>

<h:body>
	<div style="margin-left: 20px; margin-top: 15px;">
		<h2>ProxiBanqueSI version 3</h2>
	</div>
	<div style="margin-left: 20px;">
		<p>Bonjour Tintin, voici votre liste de clients, que voulez vous
			faire ?</p>
	</div>

	<h:messages />


	<h:form>
		<div style="margin-top: 10px; margin-left: 20px;">
			<h:commandButton action="add-client?faces-redirect=true"
				value="Ajouter un client" />
		</div>
		<h:dataTable value="#{clientController.clients}" var="tempClient">

			<h:column>
				<!-- the column header -->
				<f:facet name="header">Nom</f:facet>

				<!--  the value for each row -->
						#{tempClient.nom}
					</h:column>

			<h:column>
				<f:facet name="header">Prénom</f:facet>

				<h:outputText value="#{tempClient.prenom}" />

			</h:column>

			<h:column>
				<f:facet name="header">Telephone</f:facet>

				<h:outputText value="#{tempClient.telephone}" />

			</h:column>

			<h:column>
				<f:facet name="header">Action</f:facet>
<span style="margin-left: 10px;">
				<h:commandButton value="Modifier"
					action="#{clientController.loadClient(tempClient.id)}" /></span>
<span style="margin-left: 10px;">
				<h:commandButton value="Supprimer"
					onclick="if (!confirm('Etes vous sur(e) de vouloir supprimer ce client ?')) return false"
					action="#{clientController.deleteClient(tempClient.id)}" /></span>

			</h:column>

		</h:dataTable>
	</h:form>

</h:body>
</html>